<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    .box{
        width: 200px;
        height: 200px;
        border: 1px solid #000;
    }
    p{
        color:red;
        display: none;
    }
</style>
<body>
<!--布局-->
<form action="一个按钮改变字体大小.html">
    用户名：<input type="text">
    <p>输入正确的用户名</p><br>
    密码：<input type="password"class="cm" >
    <p>输入正确的密码（密码不能少于6位）</p><i>显示/隐藏</i><br>
    验证码：<input type="text">
    <p>输入正确的验证码</p><div class="box"></div>
    <input type="submit">
</form>
</body>
<script src="jquery-3.4.1.js"></script>
<script>
    $(".box").html(arr())
    <!--功能-->
    var a, b,c;
    $("[type=text]").eq(0).focus(function () {
        $(this).next("p").show()
    })
    $("[type=text]").eq(0).blur(function () {
        var str = $(this).val()
        var patt = /^1(3|4|5|6|7|8|9)[0-9]{9}$/
        var res = patt.test(str)
        if(res){
            a=0
            $(this).next("p").html("输入正确").css({color:"green"})
        }else{
            $(this).next("p").html("用户名错误").css({color:"red"})
        }
    })


    $("[type=password]").eq(0).focus(function () {
        $(this).next("p").show()
    })
    $("[type=password]").eq(0).blur(function () {
        var str = $(this).val()
        var patt = /^[0-9]{6,}$/
        var res = patt.test(str)
        if(res){
            b=1
            $(this).next("p").html("输入正确").css({color:"green"})

        }else{
            $(this).next("p").html("用户名错误").css({color:"red"})
        }
    })
    $("i").click(function () {
        var opp = $("[type=password]").attr("type")
        console.log(opp)
        if( opp=="password"){
            $(".cm").attr("type","text")

        }else{
            $(".cm").attr("type","password")
        }
    })



console.log($("[type=password]"))
    function arr(){
        var num = 4;
        var str = "";
        var newarr = [0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]
        for(i=0;i<num;i++){
            var ran = parseInt(Math.random()*newarr.length);
            str = str+newarr[ran];
        }
        return str
    }
    $(".box").click(function () {
        var code = arr();
        $(this).html(code);
        c=4;
    })


    $("[type=text]").eq(1).focus(function () {
        $(this).next("p").show()
    })
    $("[type=text]").eq(1).blur(function () {


        var Lo = $("[type=text]").eq(1).val().toLowerCase()
        var Li = $(".box").text().toLowerCase()

        if(Lo==Li){

            c=2
            $(this).next("p").html("输入正确").css({color:"green"})
        }else{
            $(this).next("p").html("输入错误").css({color:"red"})
        }
    })

    $("[type=submit]").click(function (e) {
        e.preventDefault()
        if(a+b+c==3){
            alert("登录成功，点击确定跳转")
            window.location.href="一个按钮改变字体大小.html"
        }else{
            alert("输入不正确")
        }
    })


</script>
</html>